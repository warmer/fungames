<% if defined?(games) and games and games.length > 0 %>
  <table class="table table-striped table-condensed">
    <thead>
      <tr>
        <th>Game #</th>
        <th>Player 1</th>
        <th>Player 2</th>
        <th>Current Turn</th>
        <th>Status</th>
        <th>Board</th>
      </tr>
    </thead>
    <tbody>
      <% games.each do |game| %>
      <tr>
        <td>
          <a href="<%= url(:game, id: game[:id])%>"><%= game[:id] %></a>
        </td>
        <td>
          <% if game[:player1] %>
            <% p = game[:player1] %>
            <a href="<%= url(:player, id: p[:id])%>"><%= p[:name] %></a>
          <% else %>
            Anonymous
          <% end %>
        </td>
        <td>
          <% if game[:player2] %>
            <% p = game[:player2] %>
            <a href="<%= url(:player, id: p[:id])%>"><%= p[:name] %></a>
          <% else %>
            Anonymous
          <% end %>
        </td>
        <td><%= game[:turn][:name] %></td>
        <td><%= game[:status] %></td>
        <td><%= game[:board] %></td>
      </tr>
      <% end %>
    </tbody>
  </table>
<% end %>
